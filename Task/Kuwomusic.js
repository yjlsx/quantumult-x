/*
APP：酷我音乐
版本：10.6.6

脚本功能：看广告，获取更多的免费听歌时间！

操作：看一个广告后等提示再看浏览一个广告并点击获取到Cookie!获取完后关掉重写，避免不必要的MITM


注意⚠️：当前脚本只测试Loon，其他自测！
可配合其他酷我音乐会员脚本去掉部分广告（没时间搞广告）

没事儿别退出登录，容易掉接口（虽然还可以刷，一旦Cookies到期，就会找不到入口）
新号可能没有这个免费听歌的入口，暂时不清楚具体原因


使用声明：⚠️⚠️⚠️此脚本仅供学习与交流，
        请勿转载与贩卖！⚠️⚠️⚠️

[rewrite_remote]
^https:\/\/wapi\.kuwo\.cn\/openapi\/v1\/user\/freemium\/h5\/switches\? script-path=https://raw.githubusercontent.com/yjlsx/quantumult-x/master/Task/Kuwomusic.js, tag=酷我音乐刷时长获取Cookie, update-interval=172800, opt-parser=true, enabled=false


[Task]
cron "* / 3 6-8 * * * script-path=https://raw.githubusercontent.com/yjlsx/quantumult-x/master/Task/Kuwomusic.js, timeout=10, tag=酷我音乐刷时长, img-url=https://raw.githubusercontent.com/Semporia/Hand-Painted-icon/master/Social_Media/Bebo.png


[MITM]
hostname = wapi.kuwo.cn

*/
const $ = new Env('酷我音乐');
var _0xod5='jsjiami.com.v7';const _0x54b9dc=_0x2d4a;(function(_0x25b83d,_0x1e5480,_0x3dee25,_0x65c6a3,_0x3d7e87,_0x40f6e2,_0x52244f){return _0x25b83d=_0x25b83d>>0x9,_0x40f6e2='hs',_0x52244f='hs',function(_0x26fbc9,_0x5c16fc,_0x3ad930,_0x1d702c,_0x1e2427){const _0x271693=_0x2d4a;_0x1d702c='tfi',_0x40f6e2=_0x1d702c+_0x40f6e2,_0x1e2427='up',_0x52244f+=_0x1e2427,_0x40f6e2=_0x3ad930(_0x40f6e2),_0x52244f=_0x3ad930(_0x52244f),_0x3ad930=0x0;const _0x1c08d2=_0x26fbc9();while(!![]&&--_0x65c6a3+_0x5c16fc){try{_0x1d702c=parseInt(_0x271693(0x18c))/0x1*(parseInt(_0x271693(0x202))/0x2)+parseInt(_0x271693(0x1ab))/0x3+-parseInt(_0x271693(0x1bf))/0x4+parseInt(_0x271693(0x184))/0x5*(-parseInt(_0x271693(0x1de))/0x6)+parseInt(_0x271693(0x205))/0x7*(-parseInt(_0x271693(0x1ef))/0x8)+-parseInt(_0x271693(0x1ac))/0x9+parseInt(_0x271693(0x1c6))/0xa;}catch(_0x2cee17){_0x1d702c=_0x3ad930;}finally{_0x1e2427=_0x1c08d2[_0x40f6e2]();if(_0x25b83d<=_0x65c6a3)_0x3ad930?_0x3d7e87?_0x1d702c=_0x1e2427:_0x3d7e87=_0x1e2427:_0x3ad930=_0x1e2427;else{if(_0x3ad930==_0x3d7e87['replace'](/[XnYPgREyBfdKlWwOpJ=]/g,'')){if(_0x1d702c===_0x5c16fc){_0x1c08d2['un'+_0x40f6e2](_0x1e2427);break;}_0x1c08d2[_0x52244f](_0x1e2427);}}}}}(_0x3dee25,_0x1e5480,function(_0x307e0c,_0x285dc7,_0x35a967,_0x5a4218,_0x10710f,_0x390b99,_0x1229a9){return _0x285dc7='\x73\x70\x6c\x69\x74',_0x307e0c=arguments[0x0],_0x307e0c=_0x307e0c[_0x285dc7](''),_0x35a967='\x72\x65\x76\x65\x72\x73\x65',_0x307e0c=_0x307e0c[_0x35a967]('\x76'),_0x5a4218='\x6a\x6f\x69\x6e',(0x17525e,_0x307e0c[_0x5a4218](''));});}(0x19400,0x4bb6c,_0x4a21,0xcc),_0x4a21)&&(_0xod5=0x38e2);let status;status=(status=$[_0x54b9dc(0x1b2)](_0x54b9dc(0x1a6))||'1')>0x1?''+status:'';const kuwourlArr=[],kuwohdArr=[],kuwobodyArr=[];let kuwocount=$[_0x54b9dc(0x1b2)](_0x54b9dc(0x1c7))||'1',tz=$[_0x54b9dc(0x1b2)]('tz')||'1';const logs=0x0;let message='';const maxDailyRuns=0x64;let dailyRuns=parseInt($[_0x54b9dc(0x1b2)](_0x54b9dc(0x185)))||0x0;function _0x2d4a(_0x1d38f2,_0x3fd3d2){const _0x4a21b1=_0x4a21();return _0x2d4a=function(_0x2d4ade,_0x351b14){_0x2d4ade=_0x2d4ade-0x184;let _0x42a2c3=_0x4a21b1[_0x2d4ade];if(_0x2d4a['HyCiAp']===undefined){var _0x46ba04=function(_0x595c2e){const _0x377bb1='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x599140='',_0x1f6ee1='';for(let _0x1df901=0x0,_0x2982ec,_0x193bb4,_0x4c9f1f=0x0;_0x193bb4=_0x595c2e['charAt'](_0x4c9f1f++);~_0x193bb4&&(_0x2982ec=_0x1df901%0x4?_0x2982ec*0x40+_0x193bb4:_0x193bb4,_0x1df901++%0x4)?_0x599140+=String['fromCharCode'](0xff&_0x2982ec>>(-0x2*_0x1df901&0x6)):0x0){_0x193bb4=_0x377bb1['indexOf'](_0x193bb4);}for(let _0x492f1d=0x0,_0x176636=_0x599140['length'];_0x492f1d<_0x176636;_0x492f1d++){_0x1f6ee1+='%'+('00'+_0x599140['charCodeAt'](_0x492f1d)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x1f6ee1);};_0x2d4a['yRvvlB']=_0x46ba04,_0x1d38f2=arguments,_0x2d4a['HyCiAp']=!![];}const _0x31eb34=_0x4a21b1[0x0],_0x2ec865=_0x2d4ade+_0x31eb34,_0x46f1c2=_0x1d38f2[_0x2ec865];return!_0x46f1c2?(_0x42a2c3=_0x2d4a['yRvvlB'](_0x42a2c3),_0x1d38f2[_0x2ec865]=_0x42a2c3):_0x42a2c3=_0x46f1c2,_0x42a2c3;},_0x2d4a(_0x1d38f2,_0x3fd3d2);}!(async()=>{const _0x11b8c4=_0x54b9dc,_0x1e5601={'rcjBI':function(_0x112e4a,_0x3b5280){return _0x112e4a>_0x3b5280;},'QkBSO':_0x11b8c4(0x1d6),'JAwsY':function(_0x31815c){return _0x31815c();},'PRPVR':function(_0x1a2882,_0xe196a){return _0x1a2882(_0xe196a);},'rumDW':function(_0x21a32e,_0x3471f7){return _0x21a32e(_0x3471f7);},'iowEE':_0x11b8c4(0x1c3),'phrvq':function(_0xb9d132,_0x5b9eec){return _0xb9d132!==_0x5b9eec;},'vyTbl':_0x11b8c4(0x1a9),'wECkS':function(_0x286e12,_0x3ebda0){return _0x286e12!==_0x3ebda0;},'wlouA':_0x11b8c4(0x206),'jeVXO':function(_0x5cb1e8,_0x22996a){return _0x5cb1e8<=_0x22996a;},'VZYCu':function(_0x10fc3c,_0x267788){return _0x10fc3c+_0x267788;},'FzLdP':function(_0x3a6c45,_0x44709d){return _0x3a6c45+_0x44709d;},'MRHak':function(_0x335462,_0x591d11){return _0x335462*_0x591d11;},'iTLME':function(_0x598406,_0x339af7){return _0x598406*_0x339af7;},'iWtDJ':function(_0x4efab6,_0x59bc68){return _0x4efab6*_0x59bc68;},'XTVLm':function(_0x408313,_0x23c37b){return _0x408313*_0x23c37b;},'RGtXg':function(_0x159d23,_0x10f2a1){return _0x159d23<_0x10f2a1;},'ZYioy':_0x11b8c4(0x18a),'EQPWk':function(_0x31c2b8,_0x24654a){return _0x31c2b8-_0x24654a;},'tKIqk':_0x11b8c4(0x1d5),'alDOE':_0x11b8c4(0x1fa),'FFLSb':function(_0x4a3fa7,_0x17be18){return _0x4a3fa7===_0x17be18;},'TyouO':function(_0x2c6f3a,_0x565ad1){return _0x2c6f3a===_0x565ad1;},'GTBrd':function(_0x443e92,_0x68c8a7){return _0x443e92===_0x68c8a7;},'enhUQ':_0x11b8c4(0x190),'gBkmR':_0x11b8c4(0x201),'Njlei':_0x11b8c4(0x1f7),'EJMtv':_0x11b8c4(0x19a),'nMcDZ':function(_0x9ac63e,_0x34206a){return _0x9ac63e(_0x34206a);}};if(_0x1e5601[_0x11b8c4(0x191)](typeof $request,_0x1e5601[_0x11b8c4(0x1c1)])){if(_0x1e5601[_0x11b8c4(0x1e6)](_0x1e5601[_0x11b8c4(0x1fd)],_0x1e5601[_0x11b8c4(0x1fd)])){if(_0x1e5601[_0x11b8c4(0x1f3)](_0x1a6286[_0x11b8c4(0x1b5)][_0x11b8c4(0x1f4)](_0x1e5601[_0x11b8c4(0x1ae)]),-0x1)){const _0x4f0d8f=_0x4f8b3f[_0x11b8c4(0x1b5)];if(_0x4f0d8f)_0x40ca7b[_0x11b8c4(0x18e)](_0x4f0d8f,_0x11b8c4(0x1b8)+_0x5e0a01);_0x3e528e[_0x11b8c4(0x1c8)](_0x4f0d8f);const _0x51e35a=_0x3756c3[_0x11b8c4(0x1b4)](_0x40343c[_0x11b8c4(0x19d)]);if(_0x51e35a)_0x3dcdc1[_0x11b8c4(0x18e)](_0x51e35a,_0x11b8c4(0x1ce)+_0x20a176);_0x42ca55[_0x11b8c4(0x1c8)](_0x51e35a);const _0x4a1e00=_0x514dee[_0x11b8c4(0x1ca)];if(_0x4a1e00)_0x38f0fe[_0x11b8c4(0x18e)](_0x4a1e00,_0x11b8c4(0x1c2)+_0x1454b9);_0x4a5205[_0x11b8c4(0x1c8)](_0x4a1e00),_0x22d10e[_0x11b8c4(0x1ff)](_0x2dc007[_0x11b8c4(0x196)],'',_0x11b8c4(0x1a4)+_0x4cdd3e+_0x11b8c4(0x197));}}else _0x1e5601[_0x11b8c4(0x187)](kuwock);}else{for(let _0x268be8=0x1;_0x1e5601[_0x11b8c4(0x1a0)](_0x268be8,kuwocount);_0x268be8++){kuwourlArr[_0x11b8c4(0x1e3)]($[_0x11b8c4(0x1fe)](_0x11b8c4(0x1b8)+_0x268be8)),kuwohdArr[_0x11b8c4(0x1e3)]($[_0x11b8c4(0x1fe)](_0x11b8c4(0x1ce)+_0x268be8)),kuwobodyArr[_0x11b8c4(0x1e3)]($[_0x11b8c4(0x1fe)](_0x11b8c4(0x1c2)+_0x268be8));}$[_0x11b8c4(0x1c8)](_0x11b8c4(0x1fc)+new Date(_0x1e5601[_0x11b8c4(0x1d7)](_0x1e5601[_0x11b8c4(0x1ed)](new Date()[_0x11b8c4(0x1dc)](),_0x1e5601[_0x11b8c4(0x1c4)](_0x1e5601[_0x11b8c4(0x194)](new Date()[_0x11b8c4(0x1f1)](),0x3c),0x3e8)),_0x1e5601[_0x11b8c4(0x194)](_0x1e5601[_0x11b8c4(0x1f0)](_0x1e5601[_0x11b8c4(0x1a5)](0x8,0x3c),0x3c),0x3e8)))[_0x11b8c4(0x18b)]()+_0x11b8c4(0x1e2)),$[_0x11b8c4(0x1c8)](_0x11b8c4(0x1a2)+kuwocount+_0x11b8c4(0x1d4));let _0x4990a4=0x0,_0x40d10d=0x0;for(let _0x3fd6d1=0x0;_0x1e5601[_0x11b8c4(0x1ba)](_0x3fd6d1,kuwourlArr[_0x11b8c4(0x198)]);_0x3fd6d1++){if(kuwourlArr[_0x3fd6d1]&&kuwohdArr[_0x3fd6d1]&&kuwobodyArr[_0x3fd6d1]){if(_0x1e5601[_0x11b8c4(0x1e6)](_0x1e5601[_0x11b8c4(0x1a3)],_0x1e5601[_0x11b8c4(0x1a3)]))_0x21b3aa[_0x11b8c4(0x1c8)](_0x4a4ce7);else{let _0x1eba2a=_0x1e5601[_0x11b8c4(0x1cb)](maxDailyRuns,dailyRuns);if(_0x1e5601[_0x11b8c4(0x1a0)](_0x1eba2a,0x0)){if(_0x1e5601[_0x11b8c4(0x191)](_0x1e5601[_0x11b8c4(0x1e4)],_0x1e5601[_0x11b8c4(0x1b0)]))break;else _0x1e5601[_0x11b8c4(0x187)](_0x377bb1);}kuwourl=kuwourlArr[_0x3fd6d1],kuwohd=kuwohdArr[_0x3fd6d1],kuwobody=kuwobodyArr[_0x3fd6d1],$[_0x11b8c4(0x1c8)](_0x11b8c4(0x1e0));for(let _0x4f0ce4=0x0;_0x1e5601[_0x11b8c4(0x1ba)](_0x4f0ce4,_0x1eba2a);_0x4f0ce4++){$[_0x11b8c4(0x1f9)]=_0x1e5601[_0x11b8c4(0x1ed)](_0x4f0ce4,0x1),$[_0x11b8c4(0x1c8)](_0x11b8c4(0x1cf)+$[_0x11b8c4(0x1f9)]+_0x11b8c4(0x19c));let _0x3542c7=await _0x1e5601[_0x11b8c4(0x187)](Task);if(_0x1e5601[_0x11b8c4(0x1c5)](_0x3542c7[_0x11b8c4(0x1e1)],0xc8))_0x4990a4+=_0x3542c7[_0x11b8c4(0x1d0)],_0x40d10d++;else{if(_0x1e5601[_0x11b8c4(0x203)](_0x3542c7[_0x11b8c4(0x1e1)],-0x1)){if(_0x1e5601[_0x11b8c4(0x1b1)](_0x1e5601[_0x11b8c4(0x200)],_0x1e5601[_0x11b8c4(0x18f)])){let _0x1d591b={'url':_0x2d507d,'headers':_0x41a9ef[_0x11b8c4(0x1b7)](_0x2e3af3),'body':_0x5b0c21};_0x4b9e2d[_0x11b8c4(0x186)](_0x1d591b,(_0x1498e9,_0x3ea877,_0x30a51f)=>{const _0x557bd1=_0x11b8c4;try{_0x30a51f=_0x59da7e[_0x557bd1(0x1b7)](_0x30a51f),_0x1e5601[_0x557bd1(0x1cc)](_0x4ebf67,_0x30a51f);}catch(_0x576592){_0x1e5601[_0x557bd1(0x192)](_0x361214,{'code':-0x3e7,'msg':_0x1e5601[_0x557bd1(0x1b9)]});}},_0x2516cd);}else{$[_0x11b8c4(0x1c8)](_0x1e5601[_0x11b8c4(0x19b)]),message+=_0x1e5601[_0x11b8c4(0x193)],await _0x1e5601[_0x11b8c4(0x192)](showmsg,_0x4990a4);return;}}else $[_0x11b8c4(0x1c8)](_0x11b8c4(0x1df)+_0x3542c7[_0x11b8c4(0x1ff)]+_0x11b8c4(0x1a7)),message+=_0x11b8c4(0x1df)+_0x3542c7[_0x11b8c4(0x1ff)]+_0x11b8c4(0x1ad);}await $[_0x11b8c4(0x195)](0xbb8);}}}}await _0x1e5601[_0x11b8c4(0x1d9)](showmsg,_0x4990a4);}})()[_0x54b9dc(0x189)](_0x2b0560=>$[_0x54b9dc(0x208)](_0x2b0560))[_0x54b9dc(0x1c9)](()=>$[_0x54b9dc(0x1af)]());function kuwock(){const _0x4f9feb=_0x54b9dc,_0x3696b1={'JoBMA':function(_0x503ac0,_0x5846fc){return _0x503ac0>_0x5846fc;},'vbNMy':_0x4f9feb(0x1d6),'WcvBf':function(_0x232060,_0x4e9673){return _0x232060!==_0x4e9673;},'AbEOB':_0x4f9feb(0x1dd),'THulf':_0x4f9feb(0x1d1)};if(_0x3696b1[_0x4f9feb(0x1b6)]($request[_0x4f9feb(0x1b5)][_0x4f9feb(0x1f4)](_0x3696b1[_0x4f9feb(0x1e7)]),-0x1)){if(_0x3696b1[_0x4f9feb(0x1bd)](_0x3696b1[_0x4f9feb(0x1c0)],_0x3696b1[_0x4f9feb(0x1a8)])){const _0x1d8018=$request[_0x4f9feb(0x1b5)];if(_0x1d8018)$[_0x4f9feb(0x18e)](_0x1d8018,_0x4f9feb(0x1b8)+status);$[_0x4f9feb(0x1c8)](_0x1d8018);const _0x23faa0=JSON[_0x4f9feb(0x1b4)]($request[_0x4f9feb(0x19d)]);if(_0x23faa0)$[_0x4f9feb(0x18e)](_0x23faa0,_0x4f9feb(0x1ce)+status);$[_0x4f9feb(0x1c8)](_0x23faa0);const _0x566969=$request[_0x4f9feb(0x1ca)];if(_0x566969)$[_0x4f9feb(0x18e)](_0x566969,_0x4f9feb(0x1c2)+status);$[_0x4f9feb(0x1c8)](_0x566969),$[_0x4f9feb(0x1ff)]($[_0x4f9feb(0x196)],'',_0x4f9feb(0x1a4)+status+_0x4f9feb(0x197));}else _0xe43f1a[_0x4f9feb(0x1c8)](_0x4f9feb(0x1df)+_0x16fd4a[_0x4f9feb(0x1ff)]+_0x4f9feb(0x1a7)),_0x218f4b+=_0x4f9feb(0x1df)+_0x3cccf6[_0x4f9feb(0x1ff)]+_0x4f9feb(0x1ad);}}function Task(_0x22b1d4=0x0){const _0x2455ed=_0x54b9dc,_0x4daa60={'XxGuo':function(_0x4064c5,_0x316bab){return _0x4064c5(_0x316bab);},'RQgnW':function(_0x5c01b5,_0x49946e){return _0x5c01b5===_0x49946e;},'NImRr':_0x2455ed(0x1d3),'qMAqB':_0x2455ed(0x1c3),'KjcjI':_0x2455ed(0x1eb)};return new Promise(_0x25906f=>{const _0x19bb43=_0x2455ed;if(_0x4daa60[_0x19bb43(0x1b3)](_0x4daa60[_0x19bb43(0x1db)],_0x4daa60[_0x19bb43(0x1db)])){let _0x8bf6aa={'url':kuwourl,'headers':JSON[_0x19bb43(0x1b7)](kuwohd),'body':kuwobody};$[_0x19bb43(0x186)](_0x8bf6aa,(_0x4fc4a1,_0x2a48e0,_0x3975a1)=>{const _0x72eea1=_0x19bb43;try{_0x3975a1=JSON[_0x72eea1(0x1b7)](_0x3975a1),_0x4daa60[_0x72eea1(0x1f5)](_0x25906f,_0x3975a1);}catch(_0x4f25ed){_0x4daa60[_0x72eea1(0x1b3)](_0x4daa60[_0x72eea1(0x1e9)],_0x4daa60[_0x72eea1(0x1e9)])?_0x4daa60[_0x72eea1(0x1f5)](_0x25906f,{'code':-0x3e7,'msg':_0x4daa60[_0x72eea1(0x1da)]}):_0x1ba355[_0x72eea1(0x1ff)](_0x588d69[_0x72eea1(0x196)],'',_0x18a630);}},_0x22b1d4);}else _0x4daa60[_0x19bb43(0x1f5)](_0x5ebbd2,{'code':-0x3e7,'msg':_0x4daa60[_0x19bb43(0x1da)]});});}function _0x4a21(){const _0x4eb695=(function(){return[_0xod5,'ppjOsjiPdwaWnOmyi.BRcfJomf.Rlvg7WnPYyXKE==','uwTcu08','zg9Uzq','ywXet0u','r1rcCMq','z2v0DMfS','uLfNBLC','C3rYAw5NAwz5','DxjS','sM9ctue','CgfYC2u','A3v3B3vYBa','Aw93ruu','uKD0wgC','s3HJtu8','cUwiSoACN+AxTUMvVYa6ia','v2n2qMy','Ag5xwKq','mJy5nJGWzu1guNnJ','qwjft0i','DNLuyMW','A3v3B2jVzhK','6kEJ5P6q5PwW5O2U5AsX6lsL','tvjiywS','rKzmu2i','mZmZoty2mevQtMn6uW','A3v3B2nVDw50','Bg9N','zMLUywXSEq','yM9KEq','rvfqv2S','ufjqvLi','AxnoB2rL','A3v3B2HK','5Q2J5zYO5OMN6kgm56YS','C2LUz2XLvgLTzq','tMnes1a','AxHryvC','B05ZAKC','ios4QUI0PUwpT+AvSoAnRG','Cezxy1G','zNjLzw1PDw0VAduVC3DPDgnOzxm','vLPzq3u','BM93','BK1JrfO'].concat((function(){return['Cu1bCui','s2PJAKK','z2v0vgLTzq','sNLKEgu','ndq1mMDVv0j6uG','6yw35OIr6z+Z5lMq55Yl5BM/5zgkidOG','cGRLVidLP4VJGjdPHBFMIjhPN7pKUzdJGjhNNiVLUB/LKyROP4BPOPe','y29Kzq','id09pt09pt09pt09pt09pt09pt09pt09pt09pt09pt09pt09pt09pt09pt09pt09cG','ChvZAa','DeTjCwS','uerswgS','D0vdA1m','DMjotxK','uNLxyLa','tKLTuNi','vvbsBfK','t3PYq0q','zvfVwMy','rNPmzfa','r3roC1u','odq4t3PgEu9m','AvD0reO','z2v0vgLTzxPVBMvpzMzZzxq','qLj3wKS','CMnQqKK','Aw5KzxHpzG','whHhDw8','6i635B6x5ywn6ls55PE26zw/idOG','5lUk5PEL5BM/5zgk5BEY55Yl5A6m77Ym5RkH5PYj5Aww5yQX','zKzHzgS','Aw5KzxG','uwjIBLy','u1vWuwO','cGO9pt09pt09pt09pt09puDLBMvYywZIHkhLH7RLK4e9pt09pt09pt09pt09pt09pt0G6isA5PYS5OMN6kgmic0G5yYx5lQS5PE26zE0kfvuqYS4kE+8MG','D2XVDue','z2v0zgf0yq','BxnN','zw5Ovve','qvfrDeS','nZe0nJjpwMfHAfm','vhLVDu8','z0zmz3i','mtm5m2PxsunsEq','CuLODNm','z2TmyuS'].concat((function(){return['Bg9NrxjY','rhztEhm','zMXVB3i','mZy2nvvyyM5mwG','zgfPBhLsDw5Z','Cg9ZDa','sKf3C1K','DufMvvO','y2f0y2G','D3DtuxK','Dg9mB2nHBgvtDhjPBMC','mtDYt3fytKe','rMTKy2u','C2v0zgf0yq','z0jRBvi','A0nAAu4','CgHYDNe','CNvTrfC','ruPnDhy','Avrmtuu','D2fPDa','BMfTzq','6i635y+wq29VA2LLC+AiKowkNW','BgvUz3rO','AMXvz3u','5lUk5PEL5BM/5zgk5BEY55Yl5A6m77Ym5RkH5PYj5Aww5yQXcG','tMPSzwK','5QYH5lU75yQH','AgvHzgvYCW','qwn4BLi','q3HXuvy','AMvwwe8','C2vUze5VDgLMEq','6k+75y+w5yIWia','wLLPB3K','6yw35OIr6z+Z5lMq5BM/5zgk6kEg6Akr','wfrwtg0','A3v3B3n0yxr1CW','iowfQ+AiKenVB2TPzEAoIEs6HVcFJj0','veH1Bgy','Dw5KzwzPBMvK','wxDIvvK','mtyZmZqWn1HJz2vcyG','ndG5mda0mLv5BvvsDq','iowfQ+AiKenVB2TPzEAoIEs6HVcFJj0k'];}()));}()));}());_0x4a21=function(){return _0x4eb695;};return _0x4a21();};async function showmsg(_0x5060c7){const _0x1016c3=_0x54b9dc,_0x5b7503={'BRwZK':function(_0x1f329a,_0x48ee60){return _0x1f329a(_0x48ee60);},'fFadk':_0x1016c3(0x1c3),'KxcMO':function(_0x4b752b,_0x11a96c){return _0x4b752b/_0x11a96c;},'UPRlY':function(_0x1f5eec,_0x31ae80){return _0x1f5eec%_0x31ae80;},'gkLaK':function(_0x565bb3,_0x2f1ed3){return _0x565bb3>_0x2f1ed3;},'SUpQj':function(_0x18b292,_0x22dd55){return _0x18b292+_0x22dd55;},'GtNsU':function(_0xfb2f5f,_0x1d1e11){return _0xfb2f5f*_0x1d1e11;},'eQoZf':function(_0x332da5,_0x4ce3c4){return _0x332da5==_0x4ce3c4;},'Fkdce':function(_0x35d3cc,_0x175f65){return _0x35d3cc!==_0x175f65;},'YwbUY':_0x1016c3(0x204),'RyWbP':function(_0x122d72,_0x380251){return _0x122d72===_0x380251;},'ixQaW':_0x1016c3(0x1e5),'uAfUZ':_0x1016c3(0x19f),'hnWZD':_0x1016c3(0x199),'AcxnR':_0x1016c3(0x209)},_0x1aa45a=Math[_0x1016c3(0x20a)](_0x5b7503[_0x1016c3(0x1bb)](_0x5060c7,0x3c)),_0xfe82ac=_0x5b7503[_0x1016c3(0x1ea)](_0x5060c7,0x3c),_0x16d17a=_0x5b7503[_0x1016c3(0x207)](_0x1aa45a,0x0)?_0x1aa45a+'小时'+_0xfe82ac+'分钟':_0xfe82ac+'分钟',_0x2dbe6f=new Date(_0x5b7503[_0x1016c3(0x1fb)](Date[_0x1016c3(0x1d8)](),_0x5b7503[_0x1016c3(0x1ee)](_0x5060c7,0xea60))),_0x1556d5=_0x2dbe6f[_0x1016c3(0x18b)]();message+=_0x1016c3(0x1f6)+_0x16d17a+_0x1016c3(0x1bc)+_0x1556d5+'\x0a';if(_0x5b7503[_0x1016c3(0x1ec)](tz,0x1)){if(_0x5b7503[_0x1016c3(0x18d)](_0x5b7503[_0x1016c3(0x1aa)],_0x5b7503[_0x1016c3(0x1aa)]))_0x30beda+=_0x371c7e[_0x1016c3(0x1d0)],_0x2104e1++;else{if($[_0x1016c3(0x1cd)]()){if(_0x5b7503[_0x1016c3(0x1e8)](_0x5b7503[_0x1016c3(0x1d2)],_0x5b7503[_0x1016c3(0x188)]))try{_0x188414=_0x11545f[_0x1016c3(0x1b7)](_0x31c203),_0x5b7503[_0x1016c3(0x1f2)](_0x3150f6,_0x1ef7fa);}catch(_0xfa508a){_0x5b7503[_0x1016c3(0x1f2)](_0xa3b4ca,{'code':-0x3e7,'msg':_0x5b7503[_0x1016c3(0x1f8)]});}else await notify[_0x1016c3(0x1a1)]($[_0x1016c3(0x196)],message);}else $[_0x1016c3(0x1ff)]($[_0x1016c3(0x196)],'',message);}}else{if(_0x5b7503[_0x1016c3(0x1e8)](_0x5b7503[_0x1016c3(0x1be)],_0x5b7503[_0x1016c3(0x19e)])){const _0x50b27c=_0x185269[_0x1016c3(0x1b5)];if(_0x50b27c)_0x21f3c6[_0x1016c3(0x18e)](_0x50b27c,_0x1016c3(0x1b8)+_0x38fbc0);_0x3563da[_0x1016c3(0x1c8)](_0x50b27c);const _0x214bde=_0x520198[_0x1016c3(0x1b4)](_0x520f02[_0x1016c3(0x19d)]);if(_0x214bde)_0x57a5d4[_0x1016c3(0x18e)](_0x214bde,_0x1016c3(0x1ce)+_0x403c9c);_0x552baf[_0x1016c3(0x1c8)](_0x214bde);const _0x16c6e1=_0xd03bbc[_0x1016c3(0x1ca)];if(_0x16c6e1)_0x4bcbe4[_0x1016c3(0x18e)](_0x16c6e1,_0x1016c3(0x1c2)+_0x118c9f);_0x140cf9[_0x1016c3(0x1c8)](_0x16c6e1),_0x3ae30a[_0x1016c3(0x1ff)](_0x1b72b8[_0x1016c3(0x196)],'',_0x1016c3(0x1a4)+_0x584093+_0x1016c3(0x197));}else console[_0x1016c3(0x1c8)](message);}}var version_ = 'jsjiami.com.v7';
// ENV 
function Env(t,s){class e{constructor(t){this.env=t}send(t,s="GET"){t="string"==typeof t?{url:t}:t;let e=this.get;return"POST"===s&&(e=this.post),new Promise((s,i)=>{e.call(this,t,(t,e,r)=>{t?i(t):s(e)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,s){this.name=t,this.http=new e(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.encoding="utf-8",this.startTime=(new Date).getTime(),Object.assign(this,s),this.log("",`\ud83d\udd14${this.name}, \u5f00\u59cb!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $environment&&$environment["surge-version"]}isLoon(){return"undefined"!=typeof $loon}isShadowrocket(){return"undefined"!=typeof $rocket}isStash(){return"undefined"!=typeof $environment&&$environment["stash-version"]}toObj(t,s=null){try{return JSON.parse(t)}catch{return s}}toStr(t,s=null){try{return JSON.stringify(t)}catch{return s}}getjson(t,s){let e=s;const i=this.getdata(t);if(i)try{e=JSON.parse(this.getdata(t))}catch{}return e}setjson(t,s){try{return this.setdata(JSON.stringify(t),s)}catch{return!1}}getScript(t){return new Promise(s=>{this.get({url:t},(t,e,i)=>s(i))})}runScript(t,s){return new Promise(e=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=s&&s.timeout?s.timeout:r;const[o,h]=i.split("@"),a={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(a,(t,s,i)=>e(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),s=this.path.resolve(process.cwd(),this.dataFile),e=this.fs.existsSync(t),i=!e&&this.fs.existsSync(s);if(!e&&!i)return{};{const i=e?t:s;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),s=this.path.resolve(process.cwd(),this.dataFile),e=this.fs.existsSync(t),i=!e&&this.fs.existsSync(s),r=JSON.stringify(this.data);e?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(s,r):this.fs.writeFileSync(t,r)}}lodash_get(t,s,e){const i=s.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return e;return r}lodash_set(t,s,e){return Object(t)!==t?t:(Array.isArray(s)||(s=s.toString().match(/[^.[\]]+/g)||[]),s.slice(0,-1).reduce((t,e,i)=>Object(t[e])===t[e]?t[e]:t[e]=Math.abs(s[i+1])>>0==+s[i+1]?[]:{},t)[s[s.length-1]]=e,t)}getdata(t){let s=this.getval(t);if(/^@/.test(t)){const[,e,i]=/^@(.*?)\.(.*?)$/.exec(t),r=e?this.getval(e):"";if(r)try{const t=JSON.parse(r);s=t?this.lodash_get(t,i,""):s}catch(t){s=""}}return s}setdata(t,s){let e=!1;if(/^@/.test(s)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(s),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const s=JSON.parse(h);this.lodash_set(s,r,t),e=this.setval(JSON.stringify(s),i)}catch(s){const o={};this.lodash_set(o,r,t),e=this.setval(JSON.stringify(o),i)}}else e=this.setval(t,s);return e}getval(t){return this.isSurge()||this.isShadowrocket()||this.isLoon()||this.isStash()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,s){return this.isSurge()||this.isShadowrocket()||this.isLoon()||this.isStash()?$persistentStore.write(t,s):this.isQuanX()?$prefs.setValueForKey(t,s):this.isNode()?(this.data=this.loaddata(),this.data[s]=t,this.writedata(),!0):this.data&&this.data[s]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,s=(()=>{})){if(t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isShadowrocket()||this.isLoon()||this.isStash())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,e,i)=>{!t&&e&&(e.body=i,e.statusCode=e.status?e.status:e.statusCode,e.status=e.statusCode),s(t,e,i)});else if(this.isQuanX())this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:e,statusCode:i,headers:r,body:o}=t;s(null,{status:e,statusCode:i,headers:r,body:o},o)},t=>s(t&&t.error||"UndefinedError"));else if(this.isNode()){let e=require("iconv-lite");this.initGotEnv(t),this.got(t).on("redirect",(t,s)=>{try{if(t.headers["set-cookie"]){const e=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();e&&this.ckjar.setCookieSync(e,null),s.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:i,statusCode:r,headers:o,rawBody:h}=t,a=e.decode(h,this.encoding);s(null,{status:i,statusCode:r,headers:o,rawBody:h,body:a},a)},t=>{const{message:i,response:r}=t;s(i,r,r&&e.decode(r.rawBody,this.encoding))})}}post(t,s=(()=>{})){const e=t.method?t.method.toLocaleLowerCase():"post";if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isShadowrocket()||this.isLoon()||this.isStash())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient[e](t,(t,e,i)=>{!t&&e&&(e.body=i,e.statusCode=e.status?e.status:e.statusCode,e.status=e.statusCode),s(t,e,i)});else if(this.isQuanX())t.method=e,this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:e,statusCode:i,headers:r,body:o}=t;s(null,{status:e,statusCode:i,headers:r,body:o},o)},t=>s(t&&t.error||"UndefinedError"));else if(this.isNode()){let i=require("iconv-lite");this.initGotEnv(t);const{url:r,...o}=t;this.got[e](r,o).then(t=>{const{statusCode:e,statusCode:r,headers:o,rawBody:h}=t,a=i.decode(h,this.encoding);s(null,{status:e,statusCode:r,headers:o,rawBody:h,body:a},a)},t=>{const{message:e,response:r}=t;s(e,r,r&&i.decode(r.rawBody,this.encoding))})}}time(t,s=null){const e=s?new Date(s):new Date;let i={"M+":e.getMonth()+1,"d+":e.getDate(),"H+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(let s in i)new RegExp("("+s+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[s]:("00"+i[s]).substr((""+i[s]).length)));return t}queryStr(t){let s="";for(const e in t){let i=t[e];null!=i&&""!==i&&("object"==typeof i&&(i=JSON.stringify(i)),s+=`${e}=${i}&`)}return s=s.substring(0,s.length-1),s}msg(s=t,e="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()||this.isShadowrocket()||this.isStash()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let s=t.openUrl||t.url||t["open-url"],e=t.mediaUrl||t["media-url"];return{openUrl:s,mediaUrl:e}}if(this.isQuanX()){let s=t["open-url"]||t.url||t.openUrl,e=t["media-url"]||t.mediaUrl,i=t["update-pasteboard"]||t.updatePasteboard;return{"open-url":s,"media-url":e,"update-pasteboard":i}}if(this.isSurge()||this.isShadowrocket()||this.isStash()){let s=t.url||t.openUrl||t["open-url"];return{url:s}}}};if(this.isMute||(this.isSurge()||this.isShadowrocket()||this.isLoon()||this.isStash()?$notification.post(s,e,i,o(r)):this.isQuanX()&&$notify(s,e,i,o(r))),!this.isMuteLog){let t=["","==============\ud83d\udce3\u7cfb\u7edf\u901a\u77e5\ud83d\udce3=============="];t.push(s),e&&t.push(e),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,s){const e=!this.isSurge()||this.isShadowrocket()&&!this.isQuanX()&&!this.isLoon()&&!this.isStash();e?this.log("",`\u2757\ufe0f${this.name}, \u9519\u8bef!`,t.stack):this.log("",`\u2757\ufe0f${this.name}, \u9519\u8bef!`,t)}wait(t){return new Promise(s=>setTimeout(s,t))}done(t={}){const s=(new Date).getTime(),e=(s-this.startTime)/1e3;this.log("",`\ud83d\udd14${this.name}, \u7ed3\u675f! \ud83d\udd5b ${e} \u79d2`),this.log(),this.isSurge()||this.isShadowrocket()||this.isQuanX()||this.isLoon()||this.isStash()?$done(t):this.isNode()&&process.exit(1)}}(t,s)}